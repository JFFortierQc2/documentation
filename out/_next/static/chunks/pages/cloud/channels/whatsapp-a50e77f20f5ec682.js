(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1198],{1130:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cloud/channels/whatsapp",function(){return t(3847)}])},3847:function(e,s,t){"use strict";t.r(s);var n=t(1527),o=t(452),i=t(6736);function a(e){let s=Object.assign({h1:"h1",p:"p",img:"img",h2:"h2",h3:"h3",a:"a",strong:"strong",ol:"ol",li:"li",h4:"h4",ul:"ul"},(0,i.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{children:"WhatsApp"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:"/docs/content/whatsapp-banner.png",alt:"Messaging channels"})}),"\n",(0,n.jsx)("iframe",{"data-youtube-iframe":!0,width:"720",height:"360",src:"https://www.youtube.com/embed/LQd1iGJLj58",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),"\n",(0,n.jsx)(s.h2,{id:"requirements",children:"Requirements"}),"\n",(0,n.jsx)(s.p,{children:"You will need a Meta app and a WhatsApp Business Account to connect your bot to WhatsApp"}),"\n",(0,n.jsx)(s.h3,{id:"create-a-meta-app--business-account",children:"Create a Meta App & Business Account"}),"\n",(0,n.jsxs)(s.p,{children:["To create a Meta App, log in to your Meta account and follow Step (1) & Step (2) in this ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/get-started#set-up-developer-assets",children:"article"}),"."]}),"\n",(0,n.jsx)(s.p,{children:"Before going to Step (3), we will configure the WhatsApp channel on Botpress."}),"\n",(0,n.jsx)(s.h2,{id:"channel-configuration",children:"Channel Configuration"}),"\n",(0,n.jsxs)(s.p,{children:["To add ",(0,n.jsx)(s.strong,{children:"WhatsApp"})," integration configuration, go to your botâ€™s configuration screen, then go to the channel tab, and click on ",(0,n.jsx)(s.strong,{children:"WhatsApp"}),"."]}),"\n",(0,n.jsx)(s.p,{children:"A screen will pop up asking for the following details:"}),"\n",(0,n.jsx)(s.h3,{id:"1-verify-token",children:"1. Verify Token"}),"\n",(0,n.jsx)(s.p,{children:"The Verify Token is used by Meta to verify that you are the real owner of the provided webhook."}),"\n",(0,n.jsxs)(s.p,{children:["You can generate any random alphanumeric string for this configuration. Paste it in your ",(0,n.jsx)(s.strong,{children:"Verify Token"})," channel configuration."]}),"\n",(0,n.jsx)(s.h3,{id:"2-access-token",children:"2. Access Token"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.strong,{children:"Phone Number ID"})," and ",(0,n.jsx)(s.strong,{children:"Access Token"})," are used to send and receive messages to/from the WhatsApp API."]}),"\n",(0,n.jsx)(s.p,{children:"In your Meta App:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["In the left sidebar, expand the ",(0,n.jsx)(s.strong,{children:"WhatsApp"})," menu and select ",(0,n.jsx)(s.strong,{children:"Getting Started"})]}),"\n",(0,n.jsxs)(s.li,{children:["In the ",(0,n.jsx)(s.strong,{children:"Temporary access token"})," section, click ",(0,n.jsx)(s.strong,{children:"Copy"})," and then paste it in the ",(0,n.jsx)(s.strong,{children:"Access Token"})," field in Botpress"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["For a permanent Access Token: ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/blog/post/2022/12/05/auth-tokens/",children:"https://developers.facebook.com/blog/post/2022/12/05/auth-tokens/"})]}),"\n",(0,n.jsx)(s.h3,{id:"3-phone-number-id",children:"3. Phone Number ID"}),"\n",(0,n.jsx)(s.p,{children:"In your Meta App:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["In the left sidebar, expand the ",(0,n.jsx)(s.strong,{children:"WhatsApp"})," menu and select ",(0,n.jsx)(s.strong,{children:"Getting Started"})]}),"\n",(0,n.jsxs)(s.li,{children:["In the ",(0,n.jsx)(s.strong,{children:"Send and receive messages"})," section, beside the label ",(0,n.jsx)(s.strong,{children:"Phone Number ID"})," click ",(0,n.jsx)(s.strong,{children:"Copy"})," then paste it in the ",(0,n.jsx)(s.strong,{children:"Phone Number ID"})," field in Botpress"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"finalizing-channel-configuration",children:"Finalizing Channel Configuration"}),"\n",(0,n.jsx)(s.p,{children:"The next step is to Enable the channel from the top of the screen and then copy the webhook URL from the button below the webhook URL."}),"\n",(0,n.jsxs)(s.p,{children:["In the last step, click ",(0,n.jsx)(s.strong,{children:"Save"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["Now we can go back to Step (3) & Step (4) in this ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/get-started#set-up-developer-assets",children:"article"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"webhook-fields",children:"Webhook Fields"}),"\n",(0,n.jsx)(s.h4,{id:"we-need-to-subscribe-to-the-webhook-fields-below",children:"We need to subscribe to the webhook fields below"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Messages: For the chat to work properly, you need to subscribe to the ",(0,n.jsx)(s.strong,{children:"messages"})," webhook field."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"content-types-mapping",children:"Content Types Mapping"}),"\n",(0,n.jsx)(s.h3,{id:"from-botpress-to-whatsapp",children:"From Botpress to WhatsApp"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Text is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#text-object",children:"Text Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["Text with Markdown is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#text-object",children:"Text Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["Image is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#media-object",children:"Media Image Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["Audio is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#media-object",children:"Media Audio Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["Video is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#media-object",children:"Media Video Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["File is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#media-object",children:"Media File Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["Location is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#location-object",children:"Location Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["Carousel is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#interactive-object",children:"Interactive List Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["Card is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#interactive-object",children:"Interactive List Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["Dropdown is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#interactive-object",children:"Interactive List Object"})]}),"\n",(0,n.jsxs)(s.li,{children:["Choice is mapped to ",(0,n.jsx)(s.a,{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/reference/messages#interactive-object",children:"Interactive Button Object"})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"from-whatsapp-to-botpress",children:"From WhatsApp to Botpress"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Text is mapped to Text Object"}),"\n",(0,n.jsx)(s.li,{children:"Interactive feedbacks are mapped to Text Object."}),"\n",(0,n.jsx)(s.li,{children:"The rest of the types are not currently processed by Botpress"}),"\n"]})]})}t(8027),s.default=(0,o.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,i.ah)(),e.components);return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)},pageOpts:{filePath:"pages/cloud/channels/whatsapp.mdx",route:"/cloud/channels/whatsapp",headings:[{depth:1,value:"WhatsApp",id:"whatsapp"},{depth:2,value:"Requirements",id:"requirements"},{depth:3,value:"Create a Meta App & Business Account",id:"create-a-meta-app--business-account"},{depth:2,value:"Channel Configuration",id:"channel-configuration"},{depth:3,value:"1. Verify Token",id:"1-verify-token"},{depth:3,value:"2. Access Token",id:"2-access-token"},{depth:3,value:"3. Phone Number ID",id:"3-phone-number-id"},{depth:2,value:"Finalizing Channel Configuration",id:"finalizing-channel-configuration"},{depth:2,value:"Webhook Fields",id:"webhook-fields"},{depth:4,value:"We need to subscribe to the webhook fields below",id:"we-need-to-subscribe-to-the-webhook-fields-below"},{depth:2,value:"Content Types Mapping",id:"content-types-mapping"},{depth:3,value:"From Botpress to WhatsApp",id:"from-botpress-to-whatsapp"},{depth:3,value:"From WhatsApp to Botpress",id:"from-whatsapp-to-botpress"}],timestamp:1687979724e3,title:"WhatsApp"},pageNextRoute:"/cloud/channels/whatsapp"})}},function(e){e.O(0,[452,9774,2888,179],function(){return e(e.s=1130)}),_N_E=e.O()}]);