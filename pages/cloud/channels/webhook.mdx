# Webhook

![Messaging channels](/docs/content/webhook-banner.png)

Webhooks provide a powerful way to integrate Botpress with other services. This guide will walk you through how to set up a webhook in Botpress to allow your bot to receive external updates in real-time.

## Enabling the Webhook Integration

1. Go to the [Botpress Hub](https://app.botpress.cloud/hub) and install the Webhook Integration to your chatbot
2. Enable the Webhook in the `Integrations` tab of your bot.
3. You will get a URL that you can use to receive send data to Botpress.
4. (Optional) You can also create a secret token to secure your webhook, which will be required in all requests to the webhook URL.

## Sending info to your Webhook using Postman (or other HTTP clients like Insomnia)

1. Open Postman and create a new request
2. Set the request type to `POST`
3. Set the URL to the Webhook URL you got from the integration page in the Botpress Dashboard.
4. Set the `Content-Type` header to `application/json`
5. (Optional) Set the `x-bp-secret` header to the secret token you set in the Botpress Hub
6. Set the body to the following JSON:

```json
{
  "message": {
    "id": "123",
    "content": "Hello Webhooks!"
  },
  "category": "Business"
}
```

7. Send the request and you should see a `200 OK` success response.

## Using the Webhook Event in your bot

1. Go to the Botpress Studio and add a Trigger node, that triggers on `Webhook Event`. This is where the conversation will start when the webhook received data
2. Connect the Trigger node to the rest of you conversation.
3. Click on `Discover Events` to see the event that was received.
4. You can access the event data using the `event.payload.body` variable.
5. You can also filter the events using a valid JS expression. For example, if you want to receive only the events that have a `category` equal to `Business`, you can use the following filter: `event.payload.body.category === 'Business'`

## Additional Information

- You can filter when the conversation is triggered and also create alternative flows by using the path in the request URL.
  - For example, you can make a request to `https://your-webhook.url/new-comment`, then you could add a filter that checks if the path is new-comment (`event.payload.path === 'new-comment'`), in which case the conversation will only start if the filter expression returns true.
  - You could also add Expression cards that transition to different nodes or workflows based on the path of the request
- Remember that the `event.payload` variable content's received via Webhook will be replaced as soon as the bot or the user sends a new message.
